Index: app/src/main/java/com/a1101studio/mobile_helper/MainListActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>windows-1251
===================================================================
--- app/src/main/java/com/a1101studio/mobile_helper/MainListActivity.java	(revision 39a03f283b5fd6116065f96b022f383622936cc9)
+++ app/src/main/java/com/a1101studio/mobile_helper/MainListActivity.java	(revision )
@@ -37,6 +37,7 @@
 
 public class MainListActivity extends AppCompatActivity {
 
+    private static final int MAX_DEFECTS = 5;
     private ArrayList<TopListModel> topListModels;
     ListView listView;
     TopListAdapter adapter;
@@ -55,7 +56,7 @@
         Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
         setSupportActionBar(toolbar);
         getSupportActionBar().setDisplayHomeAsUpEnabled(true);
-        this.topListModels= WorkData.getInstance().getTopListModels();
+        this.topListModels = WorkData.getInstance().getTopListModels();
 
         listView = (ListView) findViewById(R.id.lv1);
 
@@ -63,37 +64,35 @@
         adapter = new TopListAdapter(this, WorkData.getInstance().getTopListModels());
         listView.setAdapter(adapter);
 
-        View rowView =  ((LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE)).inflate(R.layout.top_list_item, null, false);
+        View rowView = ((LayoutInflater) getSystemService(LAYOUT_INFLATER_SERVICE)).inflate(R.layout.top_list_item, null, false);
-        EditText etSeatNubmer=(EditText) rowView.findViewById(R.id.etSeatNumber);
+        EditText etSeatNubmer = (EditText) rowView.findViewById(R.id.etSeatNumber);
 
-        TextView tvDefect=(TextView) rowView.findViewById(R.id.tvDefect);
+        TextView tvDefect = (TextView) rowView.findViewById(R.id.tvDefect);
-        ImageButton imageView=(ImageButton) rowView.findViewById(R.id.ibPhoto);
+        ImageButton imageView = (ImageButton) rowView.findViewById(R.id.ibPhoto);
         imageView.setVisibility(View.INVISIBLE);
-        imageView.setOnClickListener(v->{
+        imageView.setOnClickListener(v -> {
-            if(etSeatNubmer.getText().toString().trim().equals("")) {
+            if (etSeatNubmer.getText().toString().trim().equals("")) {
                 new AlertDialog.Builder(this).setMessage(getString(R.string.fill)).setPositiveButton("OK", (dialog, which) -> dialog.cancel()).show();
-            }
-            else {
+            } else {
                 final Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
                 MainListActivity.this.startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);
             }
         });
 
 
-
-        String detailName="Опоры";
+        String detailName = "Опоры";
 
-        String[] defectsName={"Коррозия опоры","Коррозия элементов опоры","Не заземлена перемычка","ДКР в теле опоры","Дерево в теле опоры","Нумерация"
+        String[] defectsName = {"Коррозия опоры", "Коррозия элементов опоры", "Не заземлена перемычка", "ДКР в теле опоры", "Дерево в теле опоры", "Нумерация"
-                ,"Отсутствие на опоре предупреждающих плакатов","Погнуты уголки опоры","Оторван уголок","Гнездо в опоре","Изогнута траверса","Трещина в теле опоры"
+                , "Отсутствие на опоре предупреждающих плакатов", "Погнуты уголки опоры", "Оторван уголок", "Гнездо в опоре", "Изогнута траверса", "Трещина в теле опоры"
-                ,"Наклон опоры"};
+                , "Наклон опоры"};
 
-        String[] s1={"ololo1","ololo12","ololo13"};
+        String[] s1 = {"ololo1", "ololo12", "ololo13"};
-        String[] s2={"Нумерация"};
+        String[] s2 = {"Нумерация"};
-        String[] s3={"Выбор:"};
+        String[] s3 = {"Выбор:"};
-        String[] s21={"Не заземлена перемычка. Выбор:"};
+        String[] s21 = {"Не заземлена перемычка. Выбор:"};
-        String[] s20={"Гнездо в опоре:"};
+        String[] s20 = {"Гнездо в опоре:"};
-        String[] nulled={};
+        String[] nulled = {};
-        ArrayList<String[]> LowModelsCHeckboxesTitles =new ArrayList<>();
+        ArrayList<String[]> LowModelsCHeckboxesTitles = new ArrayList<>();
         LowModelsCHeckboxesTitles.add(nulled);
         LowModelsCHeckboxesTitles.add(nulled);//2
         LowModelsCHeckboxesTitles.add(s21);//3
@@ -106,18 +105,17 @@
         LowModelsCHeckboxesTitles.add(s20);//10
 
 
-
-        String[][] nulled2= {};
+        String[][] nulled2 = {};
-        String[][] ss3=new String[1][3];
+        String[][] ss3 = new String[1][3];
-        ss3[0][0]="Охранная зона";
+        ss3[0][0] = "Охранная зона";
-        ss3[0][1]="Не влезай, убьет";
+        ss3[0][1] = "Не влезай, убьет";
-        String[][] ss4=new String[1][2];
+        String[][] ss4 = new String[1][2];
-        ss4[0][0]="В теле опоры";
+        ss4[0][0] = "В теле опоры";
-        ss4[0][1]="Фаза";
+        ss4[0][1] = "Фаза";
-        String[][] ss5=new String[1][2];
+        String[][] ss5 = new String[1][2];
-        ss5[0][0]="Грозотрос";
+        ss5[0][0] = "Грозотрос";
-        ss5[0][1]="ВОЛС";
+        ss5[0][1] = "ВОЛС";
-        ArrayList<String[][]> lowlowModelsCHeckboxesTitles =new ArrayList<>();
+        ArrayList<String[][]> lowlowModelsCHeckboxesTitles = new ArrayList<>();
         lowlowModelsCHeckboxesTitles.add(nulled2);
         lowlowModelsCHeckboxesTitles.add(nulled2);//2
         lowlowModelsCHeckboxesTitles.add(ss5);//3
@@ -129,20 +127,20 @@
         lowlowModelsCHeckboxesTitles.add(nulled2);//9
         lowlowModelsCHeckboxesTitles.add(ss4);//10
 
-        String[] s4={"Комментарий:"};//1
+        String[] s4 = {"Комментарий:"};//1
-        String[] s5={"Комментарий:"};//2
+        String[] s5 = {"Комментарий:"};//2
-        String[] s6={"Комментарий:"};//3
+        String[] s6 = {"Комментарий:"};//3
-        String[] s7={"Высота","Комментарий:"};//4
+        String[] s7 = {"Высота", "Комментарий:"};//4
-        String[] s8={"Количество деревьев:","Высота:","Комментарий:","Расстояние до токоведущих частей:","Комментарий:"};//5
+        String[] s8 = {"Количество деревьев:", "Высота:", "Комментарий:", "Расстояние до токоведущих частей:", "Комментарий:"};//5
-        String[] s9={"Комментарий:"};//6
+        String[] s9 = {"Комментарий:"};//6
-        String[] s10={"Комментарий:"};//7
+        String[] s10 = {"Комментарий:"};//7
-        String[] s11={"Количество уголков:"};//8
+        String[] s11 = {"Количество уголков:"};//8
-        String[] s12={"Количество уголков:"};//9
+        String[] s12 = {"Количество уголков:"};//9
-        String[] s13={"Комментарий:"};//10
+        String[] s13 = {"Комментарий:"};//10
-        String[] s14={"Фаза:"};//11
+        String[] s14 = {"Фаза:"};//11
-        String[] s15={"Глубина трещины:","На какой высоте от земли:"};//12
+        String[] s15 = {"Глубина трещины:", "На какой высоте от земли:"};//12
-        String[] s16={"Комментарий:"};//13
+        String[] s16 = {"Комментарий:"};//13
-        ArrayList<String[]> LowModelsCommentsTitles =new ArrayList<>();
+        ArrayList<String[]> LowModelsCommentsTitles = new ArrayList<>();
         LowModelsCommentsTitles.add(s4);//1
         LowModelsCommentsTitles.add(new String[]{});//2
         LowModelsCommentsTitles.add(s6);//3
@@ -157,8 +155,8 @@
         LowModelsCommentsTitles.add(s15);//5
         LowModelsCommentsTitles.add(s16);//6
 // Второе
-        String[] s={"Комментарий:"};//1
+        String[] s = {"Комментарий:"};//1
-        ArrayList<String[]> LowModelsCHeckboxesTitles2 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCHeckboxesTitles2 = new ArrayList<>();
         LowModelsCHeckboxesTitles2.add(nulled);
         LowModelsCHeckboxesTitles2.add(nulled);
         LowModelsCHeckboxesTitles2.add(nulled);
@@ -172,7 +170,7 @@
         LowModelsCHeckboxesTitles2.add(nulled);
         LowModelsCHeckboxesTitles2.add(nulled);
         LowModelsCHeckboxesTitles2.add(nulled);
-        ArrayList<String[][]> lowlowModelsCHeckboxesTitles2 =new ArrayList<>();
+        ArrayList<String[][]> lowlowModelsCHeckboxesTitles2 = new ArrayList<>();
         lowlowModelsCHeckboxesTitles2.add(nulled2);//2
         lowlowModelsCHeckboxesTitles2.add(nulled2);//2
         lowlowModelsCHeckboxesTitles2.add(nulled2);//2
@@ -185,89 +183,88 @@
         lowlowModelsCHeckboxesTitles2.add(nulled2);//2
         lowlowModelsCHeckboxesTitles2.add(nulled2);//2
         lowlowModelsCHeckboxesTitles2.add(nulled2);//2
-        ArrayList<String[]> LowModelsCommentsTitles2 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCommentsTitles2 = new ArrayList<>();
-        s= new String[]{"Номер фундамента:"};//1
+        s = new String[]{"Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//1
-        s= new String[]{"Номер фундамента:","Степень разрушения:"};//1
+        s = new String[]{"Номер фундамента:", "Степень разрушения:"};//1
         LowModelsCommentsTitles2.add(s);//2
-        s= new String[]{"Номер фундамента:"};//1
+        s = new String[]{"Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//3
-        s= new String[]{"Номер фундамента:"};//1
+        s = new String[]{"Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//4
-        s= new String[]{"Номер фундамента:"};//1
+        s = new String[]{"Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//5
-        s= new String[]{"Количество болтов:","Номер фундамента:"};//1
+        s = new String[]{"Количество болтов:", "Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//6
-        s= new String[]{"Количество гаек:","Номер фундамента:"};//1
+        s = new String[]{"Количество гаек:", "Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//7
-        s= new String[]{"Количество гаек:","Номер фундамента:"};//1
+        s = new String[]{"Количество гаек:", "Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//8
-        s= new String[]{"Количество гаек:","Номер фундамента:"};//1
+        s = new String[]{"Количество гаек:", "Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//9
-        s= new String[]{"Номер фундамента:"};//1
+        s = new String[]{"Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//10
-        s= new String[]{"Номер фундамента:"};//1
+        s = new String[]{"Номер фундамента:"};//1
         LowModelsCommentsTitles2.add(s);//11
-        s= new String[]{"Номер фундамента:","Расстояние от фундамента до пяты опоры:"};//1
+        s = new String[]{"Номер фундамента:", "Расстояние от фундамента до пяты опоры:"};//1
         LowModelsCommentsTitles2.add(s);//12
-        String[] defectsName2={"Фундаменты засыпаны","Разрушение фундамента","Отсутствие контура заземления","Просевший грунт под фундаментом",
+        String[] defectsName2 = {"Фундаменты засыпаны", "Разрушение фундамента", "Отсутствие контура заземления", "Просевший грунт под фундаментом",
-                "Отсутствует болт крепления между пятой опоры и фундаментом","Отсутствует контргайка на болту крепления пяты опоры к фундаменту"
+                "Отсутствует болт крепления между пятой опоры и фундаментом", "Отсутствует контргайка на болту крепления пяты опоры к фундаменту"
-                ,"Отсутствует гайка на болту крепления пяты опоры к фундаменту","Не затянута гайка/контргайка на болту крепления пяты опоры к фундаменту",
+                , "Отсутствует гайка на болту крепления пяты опоры к фундаменту", "Не затянута гайка/контргайка на болту крепления пяты опоры к фундаменту",
-                "Забетонирован фундамент","Необвалован фундамент","Зазор между фундаментом и пятой опоры"};
+                "Забетонирован фундамент", "Необвалован фундамент", "Зазор между фундаментом и пятой опоры"};
 //Третье
-        String[] defectsName3 ={"Бой изоляции цепи 1","Загрязнение изоляции цепи 1","Наброс на изоляторах цепи 1","Бой изоляции цепи 2","Загрязнение изоляции цепи 2","Наброс на изоляторах цепи 2","Бой изоляции цепи 3","Загрязнение изоляции цепи 3","Наброс на изоляторах цепи 3","Бой изоляции цепи 4","Загрязнение изоляции цепи 4","Наброс на изоляторах цепи 4",};
+        String[] defectsName3 = {"Бой изоляции цепи 1", "Загрязнение изоляции цепи 1", "Наброс на изоляторах цепи 1", "Бой изоляции цепи 2", "Загрязнение изоляции цепи 2", "Наброс на изоляторах цепи 2", "Бой изоляции цепи 3", "Загрязнение изоляции цепи 3", "Наброс на изоляторах цепи 3", "Бой изоляции цепи 4", "Загрязнение изоляции цепи 4", "Наброс на изоляторах цепи 4",};
-        ArrayList<String[]> LowModelsCHeckboxesTitles3 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCHeckboxesTitles3 = new ArrayList<>();
-        ArrayList<String[]> LowModelsCommentsTitles3 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCommentsTitles3 = new ArrayList<>();
-        ArrayList<String[][]> lowlowModelsCHeckboxesTitles3 =new ArrayList<>();
+        ArrayList<String[][]> lowlowModelsCHeckboxesTitles3 = new ArrayList<>();
-        for (int i=0;i<4;i++)
-        {
+        for (int i = 0; i < 4; i++) {
-            s= new String[]{"Сторона:"};//1
+            s = new String[]{"Сторона:"};//1
             LowModelsCHeckboxesTitles3.add(s);
             LowModelsCHeckboxesTitles3.add(nulled);
             LowModelsCHeckboxesTitles3.add(nulled);
-            ss3=new String[1][2];
+            ss3 = new String[1][2];
-            ss3[0][0]="Первая";
+            ss3[0][0] = "Первая";
-            ss3[0][1]="Вторая";
+            ss3[0][1] = "Вторая";
             lowlowModelsCHeckboxesTitles3.add(ss3);
             lowlowModelsCHeckboxesTitles3.add(nulled2);
             lowlowModelsCHeckboxesTitles3.add(nulled2);
-            s= new String[]{"Разное кол-во:","По разным фазам:"};//1
+            s = new String[]{"Разное кол-во:", "По разным фазам:"};//1
             LowModelsCommentsTitles3.add(s);//7
-            s= new String[]{"Фаза:","Сторона:"};//1
+            s = new String[]{"Фаза:", "Сторона:"};//1
             LowModelsCommentsTitles3.add(s);//7
             LowModelsCommentsTitles3.add(s);//7
         }
 
 
 //Четвертая
-        String[] defectsName4={"Гнутая арматура","Гаситель вибрации на проводе","Повреждение арматуры"};
+        String[] defectsName4 = {"Гнутая арматура", "Гаситель вибрации на проводе", "Повреждение арматуры"};
 
-        ArrayList<String[]> LowModelsCHeckboxesTitles4 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCHeckboxesTitles4 = new ArrayList<>();
-        s= new String[]{"Гаситель вибрации на проводе:"};//1
+        s = new String[]{"Гаситель вибрации на проводе:"};//1
         LowModelsCHeckboxesTitles4.add(nulled);
         LowModelsCHeckboxesTitles4.add(s);
         LowModelsCHeckboxesTitles4.add(nulled);
 
-        ArrayList<String[]> LowModelsCommentsTitles4 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCommentsTitles4 = new ArrayList<>();
-        s= new String[]{"Фаза:","Сторона:"};//1
+        s = new String[]{"Фаза:", "Сторона:"};//1
         LowModelsCommentsTitles4.add(s);//7
         LowModelsCommentsTitles4.add(nulled);//7
-        s= new String[]{"Комментарий:"};//1
+        s = new String[]{"Комментарий:"};//1
         LowModelsCommentsTitles4.add(s);//7
 
-        ArrayList<String[][]> lowlowModelsCHeckboxesTitles4 =new ArrayList<>();
+        ArrayList<String[][]> lowlowModelsCHeckboxesTitles4 = new ArrayList<>();
-        ss3=new String[1][2];
+        ss3 = new String[1][2];
-        ss3[0][0]="Не установлен/Криво установлен/Изогнут";
+        ss3[0][0] = "Не установлен/Криво установлен/Изогнут";
-        ss3[0][1]="Смещен в пролет";
+        ss3[0][1] = "Смещен в пролет";
         lowlowModelsCHeckboxesTitles4.add(nulled2);
         lowlowModelsCHeckboxesTitles4.add(ss3);
         lowlowModelsCHeckboxesTitles4.add(nulled2);
 
 //5
-        String[] defectsName5={"Распушен провод","'Фонарь' на проводе","Наброс на проводе","Повреждение провода","Соединитель на проводе","Наброс на проводе"};
+        String[] defectsName5 = {"Распушен провод", "'Фонарь' на проводе", "Наброс на проводе", "Повреждение провода", "Соединитель на проводе", "Наброс на проводе"};
 
-        ArrayList<String[]> LowModelsCHeckboxesTitles5 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCHeckboxesTitles5 = new ArrayList<>();
-        s= new String[]{"Гаситель вибрации на проводе:"};//1
+        s = new String[]{"Гаситель вибрации на проводе:"};//1
         LowModelsCHeckboxesTitles5.add(nulled);
         LowModelsCHeckboxesTitles5.add(nulled);
         LowModelsCHeckboxesTitles5.add(nulled);
@@ -275,15 +272,15 @@
         LowModelsCHeckboxesTitles5.add(nulled);
         LowModelsCHeckboxesTitles5.add(nulled);
 
-        ArrayList<String[]> LowModelsCommentsTitles5 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCommentsTitles5 = new ArrayList<>();
-        s= new String[]{"Фаза:","Комментарий:"};//1
+        s = new String[]{"Фаза:", "Комментарий:"};//1
         LowModelsCommentsTitles5.add(s);//1
         LowModelsCommentsTitles5.add(s);//2
         LowModelsCommentsTitles5.add(s);//3
         LowModelsCommentsTitles5.add(s);//4
         LowModelsCommentsTitles5.add(s);//1
         LowModelsCommentsTitles5.add(s);//1
-        ArrayList<String[][]> lowlowModelsCHeckboxesTitles5 =new ArrayList<>();
+        ArrayList<String[][]> lowlowModelsCHeckboxesTitles5 = new ArrayList<>();
         lowlowModelsCHeckboxesTitles5.add(nulled2);
         lowlowModelsCHeckboxesTitles5.add(nulled2);
         lowlowModelsCHeckboxesTitles5.add(nulled2);
@@ -291,150 +288,149 @@
         lowlowModelsCHeckboxesTitles5.add(nulled2);
         lowlowModelsCHeckboxesTitles5.add(nulled2);
 //6
-        String[] defectsName6={"Отсутствие в пролете грозотроса","Распушен грозотрос","'Фонарь' на грозотросе","Наброс на тросу","Гаситель вибрации на тросу","Повреждение грозотроса"};
+        String[] defectsName6 = {"Отсутствие в пролете грозотроса", "Распушен грозотрос", "'Фонарь' на грозотросе", "Наброс на тросу", "Гаситель вибрации на тросу", "Повреждение грозотроса"};
-        ArrayList<String[]> LowModelsCHeckboxesTitles6 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCHeckboxesTitles6 = new ArrayList<>();
-        s= new String[]{"Гаситель вибрации на тросу:"};//1
+        s = new String[]{"Гаситель вибрации на тросу:"};//1
         LowModelsCHeckboxesTitles6.add(nulled);
         LowModelsCHeckboxesTitles6.add(nulled);
         LowModelsCHeckboxesTitles6.add(nulled);
         LowModelsCHeckboxesTitles6.add(nulled);
         LowModelsCHeckboxesTitles6.add(s);
         LowModelsCHeckboxesTitles6.add(nulled);
-        ArrayList<String[]> LowModelsCommentsTitles6 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCommentsTitles6 = new ArrayList<>();
-        s= new String[]{"Комментарий:"};//1
+        s = new String[]{"Комментарий:"};//1
         LowModelsCommentsTitles6.add(s);//1
         LowModelsCommentsTitles6.add(s);//2
         LowModelsCommentsTitles6.add(s);//3
         LowModelsCommentsTitles6.add(s);//4
         LowModelsCommentsTitles6.add(s);//1
         LowModelsCommentsTitles6.add(s);//1
-        ArrayList<String[][]> lowlowModelsCHeckboxesTitles6 =new ArrayList<>();
+        ArrayList<String[][]> lowlowModelsCHeckboxesTitles6 = new ArrayList<>();
         lowlowModelsCHeckboxesTitles6.add(nulled2);
         lowlowModelsCHeckboxesTitles6.add(nulled2);
         lowlowModelsCHeckboxesTitles6.add(nulled2);
         lowlowModelsCHeckboxesTitles6.add(nulled2);
-        ss3=new String[1][2];
+        ss3 = new String[1][2];
-        ss3[0][0]="Не установлен/Криво установлен/Изогнут";
+        ss3[0][0] = "Не установлен/Криво установлен/Изогнут";
-        ss3[0][1]="Смещен в пролет";
+        ss3[0][1] = "Смещен в пролет";
         lowlowModelsCHeckboxesTitles6.add(ss3);
         lowlowModelsCHeckboxesTitles6.add(nulled2);
 
-        String[] defectsName7={"ДКР в пролете","Боковые ДКР","Дерево в пролете","Боковые деревья","В охранной зоне","Пересечения в пролете"};
+        String[] defectsName7 = {"ДКР в пролете", "Боковые ДКР", "Дерево в пролете", "Боковые деревья", "В охранной зоне", "Пересечения в пролете"};
 
-        ArrayList<String[]> LowModelsCHeckboxesTitles7 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCHeckboxesTitles7 = new ArrayList<>();
-        s= new String[]{"В охранной зоне:"};//1
+        s = new String[]{"В охранной зоне:"};//1
         LowModelsCHeckboxesTitles7.add(nulled);
         LowModelsCHeckboxesTitles7.add(nulled);
         LowModelsCHeckboxesTitles7.add(nulled);
         LowModelsCHeckboxesTitles7.add(nulled);
         LowModelsCHeckboxesTitles7.add(s);
-        s= new String[]{"Пересечения в пролете:"};//1
+        s = new String[]{"Пересечения в пролете:"};//1
         LowModelsCHeckboxesTitles7.add(s);
 
-        ArrayList<String[]> LowModelsCommentsTitles7 =new ArrayList<>();
+        ArrayList<String[]> LowModelsCommentsTitles7 = new ArrayList<>();
-        s= new String[]{"Комментарий:"};//1
+        s = new String[]{"Комментарий:"};//1
         LowModelsCommentsTitles7.add(s);//1
-        s= new String[]{"Расстояние до токоведущих частей:","Комментарий:"};//1
+        s = new String[]{"Расстояние до токоведущих частей:", "Комментарий:"};//1
         LowModelsCommentsTitles7.add(s);//2
-        s= new String[]{"Высота дерева:","Расстояние до токоведущих частей:","Количество деревьев:","Комментарий:"};//1
+        s = new String[]{"Высота дерева:", "Расстояние до токоведущих частей:", "Количество деревьев:", "Комментарий:"};//1
         LowModelsCommentsTitles7.add(s);//3
-        s= new String[]{"Расстояние до токоведущих частей:","Комментарий:"};//1
+        s = new String[]{"Расстояние до токоведущих частей:", "Комментарий:"};//1
         LowModelsCommentsTitles7.add(s);//4
-        s= new String[]{"Расстояние от стойки до провода:","Примечание"};//1
+        s = new String[]{"Расстояние от стойки до провода:", "Примечание"};//1
         LowModelsCommentsTitles7.add(s);//1
-        s= new String[]{"Комментарий:",};//1
+        s = new String[]{"Комментарий:",};//1
         LowModelsCommentsTitles7.add(s);//1
 
-        ArrayList<String[][]> lowlowModelsCHeckboxesTitles7 =new ArrayList<>();
+        ArrayList<String[][]> lowlowModelsCHeckboxesTitles7 = new ArrayList<>();
         lowlowModelsCHeckboxesTitles7.add(nulled2);
         lowlowModelsCHeckboxesTitles7.add(nulled2);
         lowlowModelsCHeckboxesTitles7.add(nulled2);
         lowlowModelsCHeckboxesTitles7.add(nulled2);
-        ss3=new String[1][2];
+        ss3 = new String[1][2];
-        ss3[0][0]="Сбор мусора";
+        ss3[0][0] = "Сбор мусора";
-        ss3[0][1]="Отсыпка груна/щебня";
+        ss3[0][1] = "Отсыпка груна/щебня";
         lowlowModelsCHeckboxesTitles7.add(ss3);
-        ss3=new String[1][11];
+        ss3 = new String[1][11];
-        ss3[0][0]="ЛЭП";
+        ss3[0][0] = "ЛЭП";
-        ss3[0][1]="Ж/Д";
+        ss3[0][1] = "Ж/Д";
-        ss3[0][2]="Контактная сеть Ж/Д";
+        ss3[0][2] = "Контактная сеть Ж/Д";
-        ss3[0][3]="Дорога";
+        ss3[0][3] = "Дорога";
-        ss3[0][4]="Гаражи";
+        ss3[0][4] = "Гаражи";
-        ss3[0][5]="Стоянка";
+        ss3[0][5] = "Стоянка";
-        ss3[0][6]="Линия освещения";
+        ss3[0][6] = "Линия освещения";
-        ss3[0][7]="СИП";
+        ss3[0][7] = "СИП";
-        ss3[0][8]="Низковольтная линия";
+        ss3[0][8] = "Низковольтная линия";
-        ss3[0][9]="Овраг";
+        ss3[0][9] = "Овраг";
-        ss3[0][10]="Болото";
+        ss3[0][10] = "Болото";
         lowlowModelsCHeckboxesTitles7.add(ss3);
         //тут добавляется в лист всё
         //тут добавляется в лист всё состояние трассы
-        tvDefect.setOnClickListener(v->{
+        tvDefect.setOnClickListener(v -> {
-            if(!etSeatNubmer.getText().toString().trim().equals("")){
+            if (!etSeatNubmer.getText().toString().trim().equals("")) {
+                if (WorkData.getInstance().getTopListModels().size() < MAX_DEFECTS)
-                if(WorkData.getInstance().getTopListModels().size()%2!=0){
+                    if (WorkData.getInstance().getTopListModels().size() % 2 != 0) {
-                    ArrayList<Detail> details =new ArrayList<>();
+                        ArrayList<Detail> details = new ArrayList<>();
-                    details.add(CreateDetail("Пролёт",defectsName5,LowModelsCHeckboxesTitles5,lowlowModelsCHeckboxesTitles5,LowModelsCommentsTitles5));
+                        details.add(CreateDetail("Пролёт", defectsName5, LowModelsCHeckboxesTitles5, lowlowModelsCHeckboxesTitles5, LowModelsCommentsTitles5));
-                    details.add(CreateDetail("Тросс",defectsName6,LowModelsCHeckboxesTitles6,lowlowModelsCHeckboxesTitles6,LowModelsCommentsTitles6));
+                        details.add(CreateDetail("Тросс", defectsName6, LowModelsCHeckboxesTitles6, lowlowModelsCHeckboxesTitles6, LowModelsCommentsTitles6));
-                    details.add(CreateDetail("Состояние трассы",defectsName7,LowModelsCHeckboxesTitles7,lowlowModelsCHeckboxesTitles7,LowModelsCommentsTitles7));
+                        details.add(CreateDetail("Состояние трассы", defectsName7, LowModelsCHeckboxesTitles7, lowlowModelsCHeckboxesTitles7, LowModelsCommentsTitles7));
                     /*details.add(CreateDetail("Фундамент",defectsName2,LowModelsCHeckboxesTitles2,lowlowModelsCHeckboxesTitles2,LowModelsCommentsTitles2));
                     details.add(CreateDetail("Изоляторы",defectsName3,LowModelsCHeckboxesTitles3,lowlowModelsCHeckboxesTitles3,LowModelsCommentsTitles3));
                     details.add(CreateDetail("Линеная арматура",defectsName4,LowModelsCHeckboxesTitles4,lowlowModelsCHeckboxesTitles4,LowModelsCommentsTitles4));*/
-                    //---
+                        //---
-                    Detail[] detailArray =new Detail[details.size()];
+                        Detail[] detailArray = new Detail[details.size()];
-                    for(int i = 0; i< details.size(); i++){
+                        for (int i = 0; i < details.size(); i++) {
-                        detailArray[i]= details.get(i);
+                            detailArray[i] = details.get(i);
-                    }
+                        }
-                    WorkData.getInstance().getTopListModels().add(new TopListModel("...",etSeatNubmer.getText().toString()));
+                        WorkData.getInstance().getTopListModels().add(new TopListModel("...", etSeatNubmer.getText().toString()));
-                    Intent intent=new Intent(MainListActivity.this, TilesActivity.class);
+                        Intent intent = new Intent(MainListActivity.this, TilesActivity.class);
-                    WorkData.getInstance().getDetails().add(detailArray);
+                        WorkData.getInstance().getDetails().add(detailArray);
-                    intent.putExtra("k",WorkData.getInstance().getTopListModels().size()-1);
+                        intent.putExtra("k", WorkData.getInstance().getTopListModels().size() - 1);
 
-                    etSeatNubmer.setText("");
-                    tvDefect.setText("");
-                    startActivity(intent);
+                        etSeatNubmer.setText("");
+                        tvDefect.setText("");
+                        startActivity(intent);
-                }else {
+                    } else {
-                    AlertDialog.Builder builder = new AlertDialog.Builder(MainListActivity.this);
-                    builder.setTitle(R.string.choose_type);
-                    builder.setSingleChoiceItems(R.array.types, -1, new DialogInterface.OnClickListener() {
-                                @Override
-                                public void onClick(DialogInterface dialog, int which) {
-                                    dialog.cancel();
-                                    ArrayList<Detail> details = new ArrayList<>();
-                                    //тут добввляешь детальки
-                                    details.add(CreateDetail(detailName, defectsName, LowModelsCHeckboxesTitles, lowlowModelsCHeckboxesTitles, LowModelsCommentsTitles));
-                                    details.add(CreateDetail("Фундамент", defectsName2, LowModelsCHeckboxesTitles2, lowlowModelsCHeckboxesTitles2, LowModelsCommentsTitles2));
-                                    details.add(CreateDetail("Изоляторы", defectsName3, LowModelsCHeckboxesTitles3, lowlowModelsCHeckboxesTitles3, LowModelsCommentsTitles3));
-                                    details.add(CreateDetail("Линеная арматура", defectsName4, LowModelsCHeckboxesTitles4, lowlowModelsCHeckboxesTitles4, LowModelsCommentsTitles4));
-                                    //---
-                                    Detail[] detailArray = new Detail[details.size()];
-                                    for (int i = 0; i < details.size(); i++) {
-                                        detailArray[i] = details.get(i);
-                                    }
-                                    boolean isSeat = true;
-                                    WorkData.getInstance().getTopListModels().add(new TopListModel("...", isSeat, getResources().getStringArray(R.array.types)[which], etSeatNubmer.getText().toString()));
-                                    Intent intent = new Intent(MainListActivity.this, TilesActivity.class);
-                                    WorkData.getInstance().getDetails().add(detailArray);
-                                    intent.putExtra("k", WorkData.getInstance().getTopListModels().size() - 1);
+                        AlertDialog.Builder builder = new AlertDialog.Builder(MainListActivity.this);
+                        builder.setTitle(R.string.choose_type);
+                        builder.setSingleChoiceItems(R.array.types, -1, new DialogInterface.OnClickListener() {
+                                    @Override
+                                    public void onClick(DialogInterface dialog, int which) {
+                                        dialog.cancel();
+                                        ArrayList<Detail> details = new ArrayList<>();
+                                        //тут добввляешь детальки
+                                        details.add(CreateDetail(detailName, defectsName, LowModelsCHeckboxesTitles, lowlowModelsCHeckboxesTitles, LowModelsCommentsTitles));
+                                        details.add(CreateDetail("Фундамент", defectsName2, LowModelsCHeckboxesTitles2, lowlowModelsCHeckboxesTitles2, LowModelsCommentsTitles2));
+                                        details.add(CreateDetail("Изоляторы", defectsName3, LowModelsCHeckboxesTitles3, lowlowModelsCHeckboxesTitles3, LowModelsCommentsTitles3));
+                                        details.add(CreateDetail("Линеная арматура", defectsName4, LowModelsCHeckboxesTitles4, lowlowModelsCHeckboxesTitles4, LowModelsCommentsTitles4));
+                                        //---
+                                        Detail[] detailArray = new Detail[details.size()];
+                                        for (int i = 0; i < details.size(); i++) {
+                                            detailArray[i] = details.get(i);
+                                        }
+                                        boolean isSeat = true;
+                                        WorkData.getInstance().getTopListModels().add(new TopListModel("...", isSeat, getResources().getStringArray(R.array.types)[which], etSeatNubmer.getText().toString()));
+                                        Intent intent = new Intent(MainListActivity.this, TilesActivity.class);
+                                        WorkData.getInstance().getDetails().add(detailArray);
+                                        intent.putExtra("k", WorkData.getInstance().getTopListModels().size() - 1);
 
-                                    etSeatNubmer.setText("");
-                                    tvDefect.setText("");
-                                    startActivity(intent);
-                                }
-                            }
-                    );
-                    builder.show();
-                }
+                                        etSeatNubmer.setText("");
+                                        tvDefect.setText("");
+                                        startActivity(intent);
+                                    }
+                                }
+                        );
+                        builder.show();
+                    }
 
 
-
-
-        }else {
+            } else {
-                Toast.makeText(this, R.string.fill,Toast.LENGTH_SHORT).show();
+                Toast.makeText(this, R.string.fill, Toast.LENGTH_SHORT).show();
             }
         });
 
         listView.addFooterView(rowView);
-        View viewHeader =  ((LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE)).inflate(R.layout.header_top_list, null, false);
+        View viewHeader = ((LayoutInflater) getSystemService(LAYOUT_INFLATER_SERVICE)).inflate(R.layout.header_top_list, null, false);
         listView.addHeaderView(viewHeader);
 
     }
@@ -469,31 +465,32 @@
         if (requestCode == REQUEST_IMAGE_CAPTURE && resultCode == RESULT_OK) {
             Bundle extras = data.getExtras();
             final Bitmap imageBitmap = (Bitmap) extras.get("data");
-            Log.e("TAG","k="+data.getIntExtra("lol",0));
+            Log.e("TAG", "k=" + data.getIntExtra("lol", 0));
             final String fileName = jakers;
             new Thread(new Runnable() {
                 @Override
                 public void run() {
-                    saveFileWithColision(imageBitmap,"/mobile_helper/"+fileName+"/",fileName+"_"+new Date().getTime()+".jpg");
+                    saveFileWithColision(imageBitmap, "/mobile_helper/" + fileName + "/", fileName + "_" + new Date().getTime() + ".jpg");
                 }
             }).start();
         }
     }
+
-    public static void  saveFileWithColision(Bitmap bitmap,String dirName ,String nameImg){
+    public static void saveFileWithColision(Bitmap bitmap, String dirName, String nameImg) {
         //File outputDir = getCacheDir();
         try {
-            File dir=new File(Environment.getExternalStorageDirectory().getPath()+dirName);
+            File dir = new File(Environment.getExternalStorageDirectory().getPath() + dirName);
             dir.mkdir();
-            File namefile = new File(dir.getPath()+"/"+nameImg);
+            File namefile = new File(dir.getPath() + "/" + nameImg);
-            if(namefile.exists())
+            if (namefile.exists())
                 namefile.delete();
-            Log.e("TAG",namefile.getPath());
+            Log.e("TAG", namefile.getPath());
             FileOutputStream ostream = new FileOutputStream(namefile);
             bitmap.compress(Bitmap.CompressFormat.PNG, 100, ostream);
             ostream.flush();
             ostream.close();
         } catch (Exception e) {
-            Log.e("TAG",e.toString());
+            Log.e("TAG", e.toString());
         }
     }
 }
